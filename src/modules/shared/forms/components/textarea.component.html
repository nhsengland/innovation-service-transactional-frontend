<div class="nhsuk-form-group {{ divCssOverride }}" [ngClass]="{'nhsuk-form-group--error': hasError}">

  <ng-container *ngIf="label && pageUniqueField">
    <h1 class="nhsuk-label-wrapper">
      <label class="nhsuk-label nhsuk-label--l nhsuk-u-margin-bottom-3" [for]="id"> {{ label }} <span class="nhsuk-u-visually-hidden"> {{ 'Limited to ' + lengthLimitCharacters + ' characters' }} </span> </label>
    </h1>
  </ng-container>
  <ng-container *ngIf="label && !pageUniqueField">
    <label class="nhsuk-label" [for]="id"> {{ label }} <span class="nhsuk-u-visually-hidden"> {{ 'Limited to ' + lengthLimitCharacters + ' characters' }} </span> </label>
  </ng-container>

  <ng-container *ngIf="description">
    <div class="nhsuk-hint" id="hint-{{ id }}" [innerHTML]="description"></div>
  </ng-container>

  <ng-container *ngIf="hasError">
    <span id="error-{{ id }}" class="nhsuk-error-message" role="alert">
      <span class="nhsuk-u-visually-hidden">Error:</span> {{ error.message | translate: error.params }}
    </span>
  </ng-container>

  <textarea [formControl]="fieldControl" [id]="id" [name]="controlName" [placeholder]="placeholder" rows="5" [maxlength]="lengthLimitCharacters" class="nhsuk-textarea"
  [attr.aria-invalid]="hasError ? 'true' : null"
  [attr.aria-describedby]="ariaDescribedBy" #textArea>
    {{ fieldControl.value }}
  </textarea>

  <div [attr.aria-hidden]="textAreaValue !== ''" class="nhsuk-hint" *ngIf="lengthLimitCharacters - (fieldControl.value || '').length > -1">
    You have {{ lengthLimitCharacters - (fieldControl.value || '').length }} characters remaining
  </div> 

  <div aria-live="polite" class="nhsuk-u-visually-hidden" *ngIf="(lengthLimitCharacters - (this.textAreaValue).length > -1) && (this.textAreaValue).length > 0 ">
    You have {{ lengthLimitCharacters - (textAreaValue || '').length }} characters remaining
  </div>

</div>
