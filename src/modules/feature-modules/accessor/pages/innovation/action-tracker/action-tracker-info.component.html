<div class="nhsuk-grid-column-full">
  <div class="nhsuk-grid-row">

    <theme-alert [type]="alert.type" [title]="alert.title" [setFocus]="alert.setFocus">
      <p> {{ alert.message }} </p>
    </theme-alert>

    <theme-spinner *ngIf="pageStatus === 'LOADING'" cssClass="nhsuk-u-margin-9"></theme-spinner>

    <ng-container *ngIf="pageStatus === 'READY'">

      <p class="nhsuk-hint nhsuk-u-padding-top-3 nhsuk-u-margin-bottom-0">{{ action?.displayId }}</p>
      <h1 class="nhsuk-heading-xl">{{ action?.name }}</h1>

      <dl class="nhsuk-summary-list">
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key"> Status </dt>
          <dd class="nhsuk-summary-list__value">
            <strong class="nhsuk-tag" [ngClass]="innovationSectionActionStatus[action?.status || ''].cssClass">{{ innovationSectionActionStatus[action?.status || ''].label }}</strong>
            <a routerLink="/accessor/innovations/{{ innovationId }}/action-tracker/statuses" class="float-r" arial-label="View actions status keys information"> Status key </a>
          </dd>
        </div>
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">Requested on</dt>
          <dd class="nhsuk-summary-list__value"> {{ action?.createdAt | date: ('app.date_formats.long_date' | translate) }} </dd>
        </div>
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">Requested by</dt>
          <dd class="nhsuk-summary-list__value">{{ action?.createdBy }}
          </dd>
        </div>
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">Description</dt>
          <dd class="nhsuk-summary-list__value">{{ action?.description }}
          </dd>
        </div>
      </dl>

      <a routerLink="/accessor/innovations/{{ innovationId }}/record/sections/{{ action?.section }}" class="nhsuk-button nhsuk-u-margin-top-5 nhsuk-u-margin-right-3 nhsuk-u-margin-bottom-5"> Review section </a>
      <a *ngIf="isQualifyingAccessorRole && action?.status === 'IN_REVIEW'" routerLink="/accessor/innovations/{{ innovationId }}/action-tracker/{{ action?.id }}/edit"
        class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-top-5 nhsuk-u-margin-bottom-5"> Update status </a>

    </ng-container>

  </div>
</div>
